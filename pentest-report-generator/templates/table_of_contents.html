{% set page_header = "Table of Contents" %}
{% set page_number = 1 %}
{% set page_content %}

<div class="toc-container">
  <ul class="toc-list">
    {# Executive Overview #}
    <li class="toc-entry">
      <span class="toc-title">Executive Overview</span>
      <span class="toc-line"></span>
      <span class="toc-page">Page 2</span>
    </li>

    {# Findings #}
    <li class="toc-entry">
      <span class="toc-title">Findings</span>
      <span class="toc-line"></span>
      <span class="toc-page">Page 3</span>
    </li>

    {# Methodology Pages #}
    {% set methodology_pages = (tools|length // 4) + (1 if tools|length % 4 > 0 else 0) %}
    <li class="toc-entry">
      <span class="toc-title">Methodology</span>
      <span class="toc-line"></span>
      <span class="toc-page">
        Pages 4 â€“ {{ 3 + methodology_pages }}
      </span>
    </li>

    {# Dynamic Report Sections #}
    {% set starting_page = 4 + methodology_pages %}
    {% for section in report_sections %}
      <li class="toc-entry">
        <span class="toc-title">{{ section.title }}</span>
        <span class="toc-line"></span>
        <span class="toc-page">Page {{ starting_page + loop.index }}</span>
      </li>
    {% endfor %}
  </ul>
</div>

{% endset %}

{% include 'layout.html' %}
